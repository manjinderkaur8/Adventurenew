<!-- flight_results.html -->
<!DOCTYPE html>
<html>

<head>
  <title>Flight Search Results</title>
  <style>
    table {
      border-collapse: collapse;
      width: 100%;
    }

    th, td {
      border: 1px solid black;
      padding: 8px;
      text-align: left;
    }

    th {
      background-color: #f2f2f2;
    }
  </style>
</head>

<body>
  <h1>Flight Search Results</h1>
  <table id="flightTable">
    <tr>
      <th>From City</th>
      <th>To City</th>
      <th>Departure Time (Local)</th>
      <th>Arrival Time (Local)</th>
      <th>Price (EUR)</th>
    </tr>
  </table>

  <script>
    // Retrieve the flight data from session storage
    const flightData = JSON.parse(sessionStorage.getItem('flightData'));

    if (flightData) {
      const flightTable = document.getElementById('flightTable');

      // Loop through the flight data and populate the table
      flightData.data.forEach(flight => {
        const row = flightTable.insertRow();
        row.insertCell().innerText = flight.cityFrom;
        row.insertCell().innerText = flight.cityTo;
        row.insertCell().innerText = flight.local_departure;
        row.insertCell().innerText = flight.local_arrival;
        row.insertCell().innerText = flight.price;
      });
    }
  </script>
</body>

</html>
